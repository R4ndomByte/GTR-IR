<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GTR-IR Demo</title>
  <!--
    ✅ Gather Town 友善規則：
    - 單一靜態頁 (HTTPS)、可被 iframe 內嵌
    - 連結新開視窗(target="_blank")、不彈出子視窗
    - 媒體皆走同站相對路徑或可嵌入來源(YouTube /embed)
  -->
  <style>
    :root {
      --bg: #0b1020;
      --card: #121a2f;
      --muted: #8ea2c2;
      --text: #e8eefc;
      --acc: #6aa6ff;
      --shadow: 0 10px 30px rgba(0,0,0,.25);
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font: 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      background: radial-gradient(1200px 700px at 20% -10%, #1a2650, var(--bg));
    }
    .wrap { max-width: 1500px; margin: 0 auto; padding: 24px; }
    header.hero { display: grid; gap: 16px; grid-template-columns: 1fr; padding: 16px; border-radius: 16px; background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)); box-shadow: var(--shadow); }
    .title { font-size: clamp(24px, 3.5vw, 36px); margin: 0; letter-spacing: .2px; }
    .subtitle { margin: 4px 0 0; color: var(--muted); font-size: 14px; }
    .badges { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 8px; }
    .badge { padding: 6px 10px; background: #1b2646; color: #bcd1ff; border: 1px solid #2b3a6b; border-radius: 999px; font-size: 12px; }

    .grid { display: grid; gap: 16px; margin-top: 16px; }
    @media (min-width: 900px) { .grid { grid-template-columns: 1.4fr 1fr; } }

    .card { background: var(--card); border: 1px solid #1e2a4a; border-radius: 16px; padding: 16px; box-shadow: var(--shadow); }
    .card h3 { margin: 0 0 12px; font-size: 18px; letter-spacing: .2px; }
    .card p { margin: 0 0 10px; color: #c7d6f3; }
    .card a { color: var(--acc); text-decoration: none; }
    .card a:hover { text-decoration: underline; }

    .media { display: grid; gap: 12px; }
    .media img { width: 100%; height: auto; border-radius: 12px; border: 1px solid #26345f; background:#0b1020; }
    .thumbs { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
    @media (min-width: 520px) { .thumbs { grid-template-columns: repeat(3, 1fr); } }

    /* YouTube 16:9 響應式容器 */
    .video-wrap { width: 100%; aspect-ratio: 16/9; border-radius: 12px; overflow: hidden; border: 1px solid #26345f; background:#0b1020; }
    .video-wrap iframe { width: 100%; height: 100%; display: block; }

    /* PDF 內嵌容器（單頁 Poster，避免拖拉）
       預設直式 A 系列比例：寬:高 = 1 : 1.4142
       若你的海報是橫式，改成 aspect-ratio: 1.4142 / 1; */
    .pdf-box { position: relative; width: 100%; aspect-ratio: 1.7778 / 1; ; border-radius: 12px; overflow: hidden; border: 1px solid #26345f; background:#0b1020; }
    .pdf-box iframe { position: absolute; inset: 0; width: 100%; height: 100%; border: 0; display: block; }

    audio { width: 100%; }

    .list { display: grid; gap: 10px; }
    .item { padding: 10px 12px; border-radius: 12px; background: #0e1530; border: 1px solid #1a2546; }
    .item strong { display: block; }
	
	/* 只給摘要用的左右對齊樣式 */
	.justify {
	  text-align: justify;
	  text-justify: inter-word;      /* 更平均的字距 */
	  hyphens: auto;                 /* 自動斷詞（需搭配 lang="en"） */
	  -webkit-hyphens: auto;
	  -ms-hyphens: auto;
	}

    footer { margin: 24px 0 8px; text-align: center; color: var(--muted); font-size: 12px; }
  </style>
</head>
<body>
  <div class="wrap">
    

    <header class="hero" style="margin-top:16px">
      <div>
        <h1 class="title">GTR-IR: GENERATIVE TEXT-CONDITIONED MODEL FOR GUITAR CABINET IMPULSE RESPONSE — Project Page</h1>
        <p class="subtitle">
		  Jia Chang Yang, Yu Ting Tsai<br>
		  Master’s Program of Electro-Acoustics<br>
		  Feng Chia University<br>
		</p>


        <div class="badges">
          <span class="badge">Neural Networks</span>
          <span class="badge">Guitar Cabinet Impulse Response</span>
          <span class="badge">Audio Generation</span>
		  <span class="badge">Digital Signal Processing</span>
        </div>
      </div>
    </header>
	<!-- ⬆️ 按你的需求：Poster 置頂，並加上明顯的全螢幕/下載按鈕 -->
    <section class="card" style="margin-top:0">
      <h3>Poster</h3>
      <p style="margin: 6px 0 12px">
        <a href="media/Poster.pdf" target="_blank" rel="noopener noreferrer" style="margin-right:12px">Open Fullscreen in New Tab</a>
        <a href="mdeia/Poster.pdf" download>download PDF</a>
      </p>
      <div class="pdf-box">
        <!-- 單頁 PDF：以 page-fit 顯示整頁、關閉工具列；避免拖拉 -->
        <iframe src="media/Poster.pdf#zoom=page-fit&toolbar=0&navpanes=0&page=1" title="Conference Poster PDF" loading="lazy"></iframe>
      </div>
    </section>
	
    <section class="grid">
      <!-- Left: Media / Demo -->
      <div class="card">
        <h3>Video Demo</h3>
        <div class="media">
          <!-- YouTube 嵌入：使用 /embed/ 版本，16:9 自適應 -->
          <div class="video-wrap">
            <iframe
              src="https://www.youtube.com/embed/64uMSa4XhoQ?si=igmanBQoEnmq_V2b"
              title="YouTube video player"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              referrerpolicy="strict-origin-when-cross-origin"
              allowfullscreen
              loading="lazy"></iframe>
          </div>

        </div>
      </div>

      <!-- Right: Abstract / Links -->
      <aside class="card">
		  <h3>Abstract</h3>
		  <p class="justify" lang="en">
			This study presents Guitar Text-conditioned Cabinet Impulse Response (GTR-IR), a text-conditioned generation model for synthesizing impulse response (IR) of guitar speaker cabinets. Textual descriptions, including cabinet, speaker type, configuration, tone, and microphone, are encoded into feature representations using a BERT model and subsequently processed by GTR-IR model. In contrast to previous studies that downsample IR to 16&nbsp;kHz with shorter durations, our approach uses IR at 48&nbsp;kHz and 2400 samples. The model generates fixed-length IR and is capable of producing cabinet responses for both seen and unseen configurations. Evaluations show that, across sampling rates from 44.1&nbsp;kHz to 96&nbsp;kHz, the proposed model reduces mean squared error by 96.5%, error-to-signal ratio by 39%, and power spectral density error by 99.996%, while increasing magnitude-squared coherence by 8.1%, compared with the MLP baseline. In addition, when compared with eight baseline architectures including Transformer, WaveNet, and CVAE, the GTR-IR achieves a mean squared error of 1.78 &times; 10<sup>&minus;7</sup>, spectral correlation of 0.99998, and residual energy ratio of 0.664%, outperforming all alternatives. These findings validate the effectiveness of the proposed model for guitar speaker cabinet IR generation and digital audio effects applications.
		  </p>

		<!--
		<div class="list" style="margin-top:8px">
          <div class="item">
            <strong>論文 PDF</strong>
            <a href="docs/paper.pdf" target="_blank" rel="noopener">開啟 PDF</a>
          </div>
          <div class="item">
            <strong>投影片</strong>
            <a href="docs/slides.pdf" target="_blank" rel="noopener">開啟 Slides</a>
          </div>
          <div class="item">
            <strong>原始碼</strong>
            <a href="https://github.com/R4ndomByte/GTR-IR-Demo-Page" target="_blank" rel="noopener">GitHub Repo</a>
          </div>
          <div class="item">
            <strong>聯絡</strong>
            <a href="mailto:random1473283696@gmail.com" target="_blank" rel="noopener">Email</a>
          </div>
        </div>
		-->
      </aside>
    </section>
	

	<!-- ===== Convolution Demo Board (Dry + 5 pairs, L→R: OriIR | GenIR | Plot | AfterOri | AfterGen) ===== -->
	<!-- ===== Convolution Demo Board (Dry + 5 pairs, L→R: Input | OriIR | GenIR | Plot | AfterOri | AfterGen) ===== -->
	<section class="card" id="conv-demo" style="margin-top:16px">
		<h3>Listening Demo — Dry &amp; Five Pairs</h3>

		<!-- 只影響本區塊的樣式 -->
		<style>
		/* 格子配置 */
		#conv-demo .grid-head,
		#conv-demo .pair-grid {
		  display: grid;
		  grid-template-columns: 1.2fr 0.8fr 0.8fr 2.6fr 0.8fr 0.8fr;
		  gap: 10px;
		  align-items: center;
		  text-align: center;
		}

		/* 各欄元素置中 */
		#conv-demo .pair-grid > div {
		  display: flex;
		  flex-direction: column;
		  align-items: center;
		  justify-content: center;
		}

		/* 音檔控制列：改回正常大小 */
		#conv-demo audio {
		  width: 90%;
		  height: 44px; /* 適中 */
		}

		/* 圖片置中 + 限高 */
		#conv-demo img.plot {
		  width: 100%;
		  max-width: 480px;
		  max-height: 260px;
		  object-fit: contain;
		  border-radius: 8px;
		  border: 1px solid #26345f;
		  background: #0b1020;
		}

		/* 檔名文字也置中 */
		#conv-demo .path {
		  color: #8ea2c2;
		  font-size: 12px;
		  word-break: break-all;
		  text-align: center;
		  margin-top: 4px;
		}

		/* Dry 區塊置中 */
		#conv-demo .dry-wrap {
		  display: flex;
		  flex-direction: column;
		  align-items: center;
		}

		/* 窄螢幕改直排 */
		@media (max-width: 1000px) {
		  #conv-demo .grid-head,
		  #conv-demo .pair-grid {
			grid-template-columns: 1fr;
		  }
		}
	  </style>

		<!-- DRY (置頂) -->
		<div class="item dry-container" style="margin-bottom:10px">
		  <strong>Dry Guitar Riff Sample</strong>
		  <audio id="dry-audio" class="slim" controls preload="metadata">
			<source src="media/dry/guitar_riff_sample.mp3" type="audio/mpeg">
		  </audio>
		</div>
		<style>
		  /* Dry Riff 區塊置中 */
		  .dry-container {
			display: flex;
			flex-direction: column;
			align-items: center;     /* 水平置中 */
			justify-content: center; /* 垂直置中 */
			text-align: center;
		  }

		  .dry-container audio.slim {
			width: 60%;   /* 適中，不要太大 */
			height: 30px; /* 正常高度 */
		  }
		</style>

		<!-- 表頭 -->
		<div class="item" style="margin-bottom:6px">
			<div class="grid-head">
				<div class="spec-head">Input Text</div>
				<div>Ori IR</div>
				<div>Gen IR</div>
				<div>Time-domain Waveform &amp; Frequency Response</div>
				<div>After IR (Ori)</div>
				<div>After IR (Gen)</div>
			</div>
		</div>

		<!-- 動態填入 5 組 -->
		<div id="pairs-wrap" class="list" style="gap:10px"></div>

		<script>
			/* ---------- 你的 5 組資料（新增 text 欄位，寫規格） ---------- */
			const pairs = [
				{
					id:"01",
					text:[
						"Cab: Marshall 1960A (4×12, Closed)",
						"Speaker: Celestion G12M",
						"Mic: MD421",
						"Pos: Cap 0°, distance 0.5 inch"
					].join("\n"),
					oriIR:"media/GTR_IR_Examples/[Ori_01]_1960-G12M25-421-Cap-0_5in.wav",
					genIR:"media/GTR_IR_Examples/[Gen_01]_Marshall 1960A_4x12_Celestion G12M_Sennheiser MD421_Close_Cap degree 0 0 5 inch.wav",
					plot:"media/plots/Pair01_rect.png"
				},
				{
					id:"02",
					text:[
						"Cab: Marshall 1960A (4×12, Closed)",
						"Speaker: Celestion G12M",
						"Mic: KM84",
						"Pos: ConeEdge, distance 6 inch"
					].join("\n"),
					oriIR:"media/GTR_IR_Examples/[Ori_02]_1960-G12M25-KM84-CapEdge-6in.wav",
					genIR:"media/GTR_IR_Examples/[Gen_02]_Marshall 1960A_4x12_Celestion G12M_KM84_ConeEdge_6in.wav",
					plot:"media/plots/Pair02_rect.png"
				},
				{
					id:"03",
					text:[
						"Cab: Marshall 1960A (4×12, Closed)",
						"Speaker: Celestion G12M",
						"Mic: R121",
						"Pos: Cap 45°, distance 3 inch"
					].join("\n"),
					oriIR:"media/GTR_IR_Examples/[Ori_03]_1960-G12M25-R121-Cap45-3in.wav",
					/* 注意：Gen_03 可能出現兩種檔名（Cap45-3in / Cap45_3in），下面會自動備援 */
					genIR:"media/GTR_IR_Examples/[Gen_03]_Marshall 1960A_4x12_Celestion G12M_R121_Cap45_3in.wav",
					plot:"media/plots/Pair03_rect.png"
				},
				{
					id:"04",
					text:[
						"Cab: Marshall 1960A (4×12, Closed)",
						"Speaker: Celestion G12M",
						"Mic: MD421",
						"Pos: CapEdge, distance 0.5 inch"
					].join("\n"),
					oriIR:"media/GTR_IR_Examples/[Ori_04]_1960-G12M25-421-CapEdge-0_5in.wav",
					genIR:"media/GTR_IR_Examples/[Gen_04]_Marshall 1960A_4x12_Celestion G12M_MD421_CapEdge_0.5in.wav",
					plot:"media/plots/Pair04_rect.png"
				},
				{
					id:"05",
					text:[
						"Cab: Marshall 1960A (4×12, Closed)",
						"Speaker: Celestion G12M",
						"Mic: MD421",
						"Pos: CapEdge 45°, distance 0.5 inch"
					].join("\n"),
					oriIR:"media/GTR_IR_Examples/[Ori_05]_1960-G12M25-421-CapEdge45-0_5in.wav",
					genIR:"media/GTR_IR_Examples/[Gen_05]_Marshall 1960A_4x12_Celestion G12M_MD421_CapEdge45_0.5in.wav",
					plot:"media/plots/Pair05_rect.png"
				},
			];

			/* ---------- Helpers：處理中括號/空白、processed 檔名 ---------- */
			function encodePath(path){
				const u = new URL(path, location.href);
				u.pathname = u.pathname.split('/').map(seg => encodeURIComponent(seg)).join('/');
				return u.toString();
			}
			function sanitizedBase(path){ return path.split('/').pop().replace(/\s+/g,'_'); }

			/* Pair03 的 GEN 檔名可能有兩種寫法，給備援清單 */
			function irCandidates(raw){
				if (!/\[Gen_03]_/.test(raw)) return [raw];
				const alt = raw.replace("Cap45-3in","Cap45_3in");
				return raw === alt ? [raw] : [raw, alt];
			}

			function processedCandidates(id, kind, srcPath){
				return [
					`media/processed/Pair${id}_${kind}.wav`,
					`media/processed/Pair${id}_${kind}__dry_x_${sanitizedBase(srcPath)}`
				];
			}

			function setAudioSmart(audioEl, pathOrPaths){
				const paths = Array.isArray(pathOrPaths) ? pathOrPaths : [pathOrPaths];
				let i = 0;
				const tryNext = () => {
					if(i >= paths.length){ return; } /* 不顯示任何錯誤文字，維持乾淨版面 */
					const raw = paths[i++], enc = encodePath(raw);
					audioEl.onerror = () => { audioEl.onerror = () => { tryNext(); }; audioEl.src = raw; audioEl.load(); };
					audioEl.src = enc; audioEl.load();
				};
				tryNext();
			}
			function setImageSmart(imgEl, path){
				imgEl.onerror = () => { imgEl.onerror = null; imgEl.src = path; };
				imgEl.src = encodePath(path);
			}

			/* ---------- Build rows ---------- */
			const wrap = document.getElementById('pairs-wrap');

			pairs.forEach(p=>{
				const row = document.createElement('div');
				row.className = 'item';
				row.style.padding = '12px';
				row.innerHTML = `
					<div class="pair-grid">
						<!-- Input Text -->
						<div class="spec-cell">
							<div class="spec">${p.text}</div>
						</div>

						<!-- Ori IR -->
						<div>
							<audio id="ori_${p.id}" class="slim" controls preload="metadata"></audio>
						</div>

						<!-- Gen IR -->
						<div>
							<audio id="gen_${p.id}" class="slim" controls preload="metadata"></audio>
						</div>

						<!-- Plot -->
						<div>
							<img id="plot_${p.id}" class="plot" alt="Pair ${p.id} Plot">
						</div>

						<!-- After IR (Ori) -->
						<div>
							<audio id="after_ori_${p.id}" class="slim" controls preload="metadata"></audio>
						</div>

						<!-- After IR (Gen) -->
						<div>
							<audio id="after_gen_${p.id}" class="slim" controls preload="metadata"></audio>
						</div>
					</div>
				`;
				wrap.appendChild(row);

				/* IR 播放（自動編碼；Gen_03 有備援） */
				setAudioSmart(document.getElementById(`ori_${p.id}`), p.oriIR);
				setAudioSmart(document.getElementById(`gen_${p.id}`), irCandidates(p.genIR));

				/* 圖片 */
				setImageSmart(document.getElementById(`plot_${p.id}`), p.plot);

				/* After IR：短名 / 長名 都嘗試 */
				setAudioSmart(document.getElementById(`after_ori_${p.id}`), processedCandidates(p.id, 'Ori', p.oriIR));
				setAudioSmart(document.getElementById(`after_gen_${p.id}`), processedCandidates(p.id, 'Gen', p.genIR));
			});
		</script>
	</section>



    <footer>© 2026 GTR-IR Project Page</footer>
  </div>
</body>
</html>
